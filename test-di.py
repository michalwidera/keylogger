import pandas as pd
from scipy.stats import pearsonr
import matplotlib.pyplot as plt
import seaborn as sns

# Dane wejściowe
digraf_operatora_e = [{'digraph': 'lo', 'interval': 219.13}, {'digraph': 'or', 'interval': 388.98}, {'digraph': 're', 'interval': 213.01}, {'digraph': 'em', 'interval': 298.95}, {'digraph': 'ip', 'interval': 450.0}, {'digraph': 'ps', 'interval': 642.83}, {'digraph': 'su', 'interval': 247.02}, {'digraph': 'um', 'interval': 1095.22}, {'digraph': 'do', 'interval': 326.15}, {'digraph': 'ol', 'interval': 705.93}, {'digraph': 'lo', 'interval': 189.0}, {'digraph': 'or', 'interval': 414.31}, {'digraph': 'si', 'interval': 765.03}, {'digraph': 'it', 'interval': 339.81}, {'digraph': 'am', 'interval': 353.05}, {'digraph': 'me', 'interval': 286.34}, {'digraph': 'et', 'interval': 242.61}, {'digraph': 'co', 'interval': 248.41}, {'digraph': 'on', 'interval': 443.59}, {'digraph': 'ns', 'interval': 440.09}, {'digraph': 'se', 'interval': 346.37}, {'digraph': 'ec', 'interval': 1815.79}, {'digraph': 'ct', 'interval': 370.86}, {'digraph': 'te', 'interval': 1321.97}, {'digraph': 'et', 'interval': 1070.07}, {'digraph': 'tu', 'interval': 347.37}, {'digraph': 'ur', 'interval': 674.96}, {'digraph': 'ad', 'interval': 295.02}, {'digraph': 'di', 'interval': 324.83}, {'digraph': 'ip', 'interval': 1327.21}, {'digraph': 'pi', 'interval': 1890.08}, {'digraph': 'is', 'interval': 490.6}, {'digraph': 'sc', 'interval': 1378.99}, {'digraph': 'ci', 'interval': 246.14}, {'digraph': 'in', 'interval': 1892.37}, {'digraph': 'ng', 'interval': 263.65}, {'digraph': 'el', 'interval': 352.3}, {'digraph': 'li', 'interval': 289.83}, {'digraph': 'it', 'interval': 263.3}, {'digraph': 'se', 'interval': 216.72}, {'digraph': 'ed', 'interval': 240.03}, {'digraph': 'do', 'interval': 197.4}, {'digraph': 'ei', 'interval': 351.28}, {'digraph': 'iu', 'interval': 1969.77}, {'digraph': 'us', 'interval': 1913.12}, {'digraph': 'sm', 'interval': 377.36}, {'digraph': 'mo', 'interval': 242.58}, {'digraph': 'od', 'interval': 361.03}, {'digraph': 'te', 'interval': 211.77}, {'digraph': 'em', 'interval': 299.16}, {'digraph': 'mo', 'interval': 267.73}, {'digraph': 'op', 'interval': 1334.06}, {'digraph': 'po', 'interval': 214.22}, {'digraph': 'or', 'interval': 259.14}, {'digraph': 'ci', 'interval': 400.97}, {'digraph': 'id', 'interval': 1706.32}, {'digraph': 'di', 'interval': 273.08}, {'digraph': 'id', 'interval': 1421.77}, {'digraph': 'du', 'interval': 425.93}, {'digraph': 'un', 'interval': 1558.08}, {'digraph': 'nt', 'interval': 366.88}, {'digraph': 'ut', 'interval': 522.06}, {'digraph': 'la', 'interval': 281.71}, {'digraph': 'ab', 'interval': 531.29}, {'digraph': 'bo', 'interval': 245.03}, {'digraph': 'or', 'interval': 1241.18}, {'digraph': 're', 'interval': 316.58}, {'digraph': 'et', 'interval': 166.54}, {'digraph': 'do', 'interval': 249.0}, {'digraph': 'ol', 'interval': 240.37}, {'digraph': 'lo', 'interval': 188.46}, {'digraph': 'or', 'interval': 440.33}, {'digraph': 're', 'interval': 212.55}, {'digraph': 'ma', 'interval': 206.01}, {'digraph': 'ag', 'interval': 349.35}, {'digraph': 'gn', 'interval': 448.74}, {'digraph': 'na', 'interval': 207.07}, {'digraph': 'al', 'interval': 226.38}, {'digraph': 'li', 'interval': 212.82}, {'digraph': 'iq', 'interval': 411.91}, {'digraph': 'qu', 'interval': 377.92}, {'digraph': 'ua', 'interval': 282.95}]
digraf_operatora_e2= [{'digraph': 'lo', 'interval': 218.87}, {'digraph': 'or', 'interval': 362.7}, {'digraph': 're', 'interval': 188.13}, {'digraph': 'em', 'interval': 273.3}, {'digraph': 'ip', 'interval': 372.66}, {'digraph': 'ps', 'interval': 411.3}, {'digraph': 'su', 'interval': 220.7}, {'digraph': 'um', 'interval': 398.31}, {'digraph': 'do', 'interval': 197.54}, {'digraph': 'ol', 'interval': 189.2}, {'digraph': 'lo', 'interval': 136.88}, {'digraph': 'or', 'interval': 233.97}, {'digraph': 'si', 'interval': 326.17}, {'digraph': 'it', 'interval': 649.75}, {'digraph': 'am', 'interval': 198.06}, {'digraph': 'me', 'interval': 285.87}, {'digraph': 'et', 'interval': 216.9}, {'digraph': 'co', 'interval': 248.37}, {'digraph': 'on', 'interval': 263.02}, {'digraph': 'ns', 'interval': 2120.05}, {'digraph': 'se', 'interval': 268.79}, {'digraph': 'ec', 'interval': 552.07}, {'digraph': 'ct', 'interval': 319.25}, {'digraph': 'te', 'interval': 237.77}, {'digraph': 'eu', 'interval': 608.14}, {'digraph': 'ur', 'interval': 287.72}, {'digraph': 'rr', 'interval': 1842.06}, {'digraph': 'ad', 'interval': 294.81}, {'digraph': 'di', 'interval': 273.23}, {'digraph': 'is', 'interval': 308.93}, {'digraph': 'si', 'interval': 3426.81}, {'digraph': 'is', 'interval': 1343.44}, {'digraph': 'sc', 'interval': 242.59}, {'digraph': 'ci', 'interval': 220.44}, {'digraph': 'in', 'interval': 1375.05}, {'digraph': 'ng', 'interval': 213.05}, {'digraph': 'el', 'interval': 275.04}, {'digraph': 'li', 'interval': 239.0}, {'digraph': 'it', 'interval': 263.34}, {'digraph': 'se', 'interval': 189.91}, {'digraph': 'ed', 'interval': 189.33}, {'digraph': 'do', 'interval': 197.04}, {'digraph': 'ei', 'interval': 221.0}, {'digraph': 'iu', 'interval': 1684.13}, {'digraph': 'us', 'interval': 542.97}, {'digraph': 'sm', 'interval': 299.97}, {'digraph': 'mi', 'interval': 188.62}, {'digraph': 'id', 'interval': 3458.12}, {'digraph': 'te', 'interval': 237.1}, {'digraph': 'em', 'interval': 350.61}, {'digraph': 'mp', 'interval': 320.06}, {'digraph': 'po', 'interval': 780.99}, {'digraph': 'or', 'interval': 181.3}, {'digraph': 'in', 'interval': 858.97}, {'digraph': 'nc', 'interval': 1192.07}, {'digraph': 'ci', 'interval': 271.93}, {'digraph': 'id', 'interval': 1318.15}, {'digraph': 'di', 'interval': 221.23}, {'digraph': 'id', 'interval': 1833.82}, {'digraph': 'du', 'interval': 194.99}, {'digraph': 'un', 'interval': 730.36}, {'digraph': 'nt', 'interval': 213.29}, {'digraph': 'ut', 'interval': 160.1}, {'digraph': 'la', 'interval': 229.7}, {'digraph': 'ab', 'interval': 376.44}, {'digraph': 'bo', 'interval': 271.01}, {'digraph': 'or', 'interval': 362.57}, {'digraph': 're', 'interval': 162.44}, {'digraph': 'et', 'interval': 166.33}, {'digraph': 'do', 'interval': 197.54}, {'digraph': 'ol', 'interval': 188.67}, {'digraph': 'lo', 'interval': 162.82}, {'digraph': 'or', 'interval': 337.04}, {'digraph': 're', 'interval': 187.76}, {'digraph': 'ma', 'interval': 178.86}, {'digraph': 'ag', 'interval': 324.17}, {'digraph': 'gn', 'interval': 423.81}, {'digraph': 'na', 'interval': 205.99}, {'digraph': 'al', 'interval': 174.05}, {'digraph': 'li', 'interval': 213.01}, {'digraph': 'iq', 'interval': 335.33}, {'digraph': 'qu', 'interval': 325.9}, {'digraph': 'ua', 'interval': 206.18}]
digraf_operatora_m = [{'digraph': 'lo', 'interval': 193.0}, {'digraph': 'or', 'interval': 285.0}, {'digraph': 're', 'interval': 265.97}, {'digraph': 'em', 'interval': 686.04}, {'digraph': 'ip', 'interval': 216.99}, {'digraph': 'ps', 'interval': 204.13}, {'digraph': 'su', 'interval': 220.82}, {'digraph': 'um', 'interval': 268.05}, {'digraph': 'do', 'interval': 171.01}, {'digraph': 'ol', 'interval': 214.97}, {'digraph': 'lo', 'interval': 163.32}, {'digraph': 'or', 'interval': 233.69}, {'digraph': 'si', 'interval': 146.12}, {'digraph': 'it', 'interval': 236.33}, {'digraph': 'am', 'interval': 250.83}, {'digraph': 'me', 'interval': 155.96}, {'digraph': 'et', 'interval': 398.55}, {'digraph': 'co', 'interval': 117.43}, {'digraph': 'on', 'interval': 264.65}, {'digraph': 'ns', 'interval': 232.3}, {'digraph': 'se', 'interval': 242.06}, {'digraph': 'ec', 'interval': 241.92}, {'digraph': 'ct', 'interval': 345.08}, {'digraph': 'te', 'interval': 547.98}, {'digraph': 'et', 'interval': 269.01}, {'digraph': 'tu', 'interval': 321.03}, {'digraph': 'ur', 'interval': 262.1}, {'digraph': 'ad', 'interval': 475.03}, {'digraph': 'di', 'interval': 325.01}, {'digraph': 'ip', 'interval': 399.0}, {'digraph': 'pi', 'interval': 315.1}, {'digraph': 'is', 'interval': 284.29}, {'digraph': 'sc', 'interval': 268.84}, {'digraph': 'ci', 'interval': 219.85}, {'digraph': 'in', 'interval': 239.29}, {'digraph': 'ng', 'interval': 340.95}, {'digraph': 'el', 'interval': 171.16}, {'digraph': 'li', 'interval': 264.89}, {'digraph': 'it', 'interval': 340.02}, {'digraph': 'se', 'interval': 190.02}, {'digraph': 'ed', 'interval': 241.02}, {'digraph': 'do', 'interval': 146.07}, {'digraph': 'ei', 'interval': 713.06}, {'digraph': 'iu', 'interval': 264.87}, {'digraph': 'us', 'interval': 260.15}, {'digraph': 'sm', 'interval': 350.98}, {'digraph': 'mo', 'interval': 165.0}, {'digraph': 'od', 'interval': 180.97}, {'digraph': 'te', 'interval': 212.1}, {'digraph': 'em', 'interval': 91.98}, {'digraph': 'mp', 'interval': 217.01}, {'digraph': 'po', 'interval': 188.02}, {'digraph': 'or', 'interval': 75.24}, {'digraph': 'rt', 'interval': 167.71}, {'digraph': 'in', 'interval': 315.99}, {'digraph': 'nc', 'interval': 289.0}, {'digraph': 'ci', 'interval': 194.0}, {'digraph': 'id', 'interval': 310.97}, {'digraph': 'dd', 'interval': 912.06}, {'digraph': 'du', 'interval': 143.01}, {'digraph': 'un', 'interval': 292.02}, {'digraph': 'nt', 'interval': 135.0}, {'digraph': 'ut', 'interval': 134.98}, {'digraph': 'la', 'interval': 125.96}, {'digraph': 'ab', 'interval': 247.0}, {'digraph': 'bo', 'interval': 60.07}, {'digraph': 'or', 'interval': 185.95}, {'digraph': 're', 'interval': 105.97}, {'digraph': 'at', 'interval': 606.91}, {'digraph': 'do', 'interval': 89.92}, {'digraph': 'ol', 'interval': 167.31}, {'digraph': 'lo', 'interval': 162.79}, {'digraph': 'or', 'interval': 49.02}, {'digraph': 're', 'interval': 135.95}, {'digraph': 'ma', 'interval': 282.69}, {'digraph': 'ag', 'interval': 322.96}, {'digraph': 'gn', 'interval': 115.37}, {'digraph': 'na', 'interval': 128.72}, {'digraph': 'al', 'interval': 148.97}, {'digraph': 'li', 'interval': 161.01}, {'digraph': 'iq', 'interval': 180.16}, {'digraph': 'qu', 'interval': 144.84}, {'digraph': 'ua', 'interval': 310.03}]
digraf_operatora_m2= [{'digraph': 'lo', 'interval': 425.22}, {'digraph': 'or', 'interval': 260.17}, {'digraph': 're', 'interval': 290.75}, {'digraph': 'em', 'interval': 402.31}, {'digraph': 'ip', 'interval': 217.99}, {'digraph': 'ps', 'interval': 228.81}, {'digraph': 'su', 'interval': 325.39}, {'digraph': 'um', 'interval': 319.65}, {'digraph': 'do', 'interval': 172.38}, {'digraph': 'ol', 'interval': 188.5}, {'digraph': 'lo', 'interval': 189.03}, {'digraph': 'or', 'interval': 207.28}, {'digraph': 'si', 'interval': 146.16}, {'digraph': 'it', 'interval': 390.85}, {'digraph': 'am', 'interval': 198.67}, {'digraph': 'me', 'interval': 181.95}, {'digraph': 'et', 'interval': 553.06}, {'digraph': 'co', 'interval': 194.51}, {'digraph': 'on', 'interval': 289.98}, {'digraph': 'ns', 'interval': 336.01}, {'digraph': 'se', 'interval': 320.0}, {'digraph': 'ec', 'interval': 319.03}, {'digraph': 'ct', 'interval': 449.15}, {'digraph': 'te', 'interval': 365.95}, {'digraph': 'et', 'interval': 373.4}, {'digraph': 'tu', 'interval': 294.52}, {'digraph': 'ur', 'interval': 184.03}, {'digraph': 'ad', 'interval': 500.93}, {'digraph': 'di', 'interval': 325.06}, {'digraph': 'ip', 'interval': 476.28}, {'digraph': 'pi', 'interval': 366.68}, {'digraph': 'is', 'interval': 283.94}, {'digraph': 'sc', 'interval': 294.99}, {'digraph': 'ci', 'interval': 168.42}, {'digraph': 'in', 'interval': 240.01}, {'digraph': 'ng', 'interval': 392.8}, {'digraph': 'el', 'interval': 172.03}, {'digraph': 'li', 'interval': 315.98}, {'digraph': 'it', 'interval': 494.98}, {'digraph': 'se', 'interval': 241.36}, {'digraph': 'ed', 'interval': 188.7}, {'digraph': 'do', 'interval': 196.85}, {'digraph': 'ei', 'interval': 1021.83}, {'digraph': 'iu', 'interval': 961.88}, {'digraph': 'us', 'interval': 285.05}, {'digraph': 'sm', 'interval': 352.0}, {'digraph': 'mo', 'interval': 345.29}, {'digraph': 'od', 'interval': 516.62}, {'digraph': 'te', 'interval': 159.96}, {'digraph': 'em', 'interval': 118.58}, {'digraph': 'mp', 'interval': 216.47}, {'digraph': 'po', 'interval': 106.05}, {'digraph': 'or', 'interval': 134.91}, {'digraph': 'rt', 'interval': 164.51}, {'digraph': 'in', 'interval': 239.7}, {'digraph': 'ni', 'interval': 577.45}, {'digraph': 'id', 'interval': 285.55}, {'digraph': 'di', 'interval': 299.06}, {'digraph': 'id', 'interval': 724.21}, {'digraph': 'dn', 'interval': 142.71}, {'digraph': 'nt', 'interval': 160.0}, {'digraph': 'ut', 'interval': 340.81}, {'digraph': 'la', 'interval': 384.06}, {'digraph': 'ab', 'interval': 272.87}, {'digraph': 'bo', 'interval': 141.81}, {'digraph': 'or', 'interval': 208.2}, {'digraph': 're', 'interval': 131.11}, {'digraph': 'et', 'interval': 269.21}, {'digraph': 'do', 'interval': 119.97}, {'digraph': 'ol', 'interval': 163.19}, {'digraph': 'lo', 'interval': 214.33}, {'digraph': 'or', 'interval': 130.52}, {'digraph': 're', 'interval': 131.07}, {'digraph': 'ma', 'interval': 178.94}, {'digraph': 'ag', 'interval': 478.45}, {'digraph': 'gn', 'interval': 114.71}, {'digraph': 'na', 'interval': 232.11}, {'digraph': 'al', 'interval': 122.15}, {'digraph': 'li', 'interval': 265.81}, {'digraph': 'iq', 'interval': 204.05}, {'digraph': 'qu', 'interval': 222.94}, {'digraph': 'ua', 'interval': 180.94}]
digraf_operatora_m3= [{'digraph': 'lo', 'interval': 477.03}, {'digraph': 'or', 'interval': 233.79}, {'digraph': 're', 'interval': 239.79}, {'digraph': 'em', 'interval': 246.36}, {'digraph': 'ip', 'interval': 243.92}, {'digraph': 'ps', 'interval': 255.05}, {'digraph': 'su', 'interval': 299.24}, {'digraph': 'um', 'interval': 345.13}, {'digraph': 'do', 'interval': 222.2}, {'digraph': 'ol', 'interval': 214.65}, {'digraph': 'lo', 'interval': 163.01}, {'digraph': 'or', 'interval': 183.02}, {'digraph': 'si', 'interval': 170.94}, {'digraph': 'it', 'interval': 314.39}, {'digraph': 'am', 'interval': 172.68}, {'digraph': 'me', 'interval': 182.73}, {'digraph': 'et', 'interval': 319.65}, {'digraph': 'co', 'interval': 144.46}, {'digraph': 'on', 'interval': 315.88}, {'digraph': 'ns', 'interval': 285.07}, {'digraph': 'se', 'interval': 215.93}, {'digraph': 'ec', 'interval': 319.01}, {'digraph': 'ct', 'interval': 268.01}, {'digraph': 'te', 'interval': 263.68}, {'digraph': 'et', 'interval': 242.97}, {'digraph': 'tu', 'interval': 269.12}, {'digraph': 'ur', 'interval': 314.01}, {'digraph': 'ad', 'interval': 502.27}, {'digraph': 'di', 'interval': 555.74}, {'digraph': 'ip', 'interval': 399.22}, {'digraph': 'pi', 'interval': 340.67}, {'digraph': 'is', 'interval': 257.91}, {'digraph': 'sc', 'interval': 192.2}, {'digraph': 'ci', 'interval': 194.2}, {'digraph': 'in', 'interval': 264.98}, {'digraph': 'ng', 'interval': 134.9}, {'digraph': 'el', 'interval': 119.97}, {'digraph': 'li', 'interval': 239.4}, {'digraph': 'it', 'interval': 159.02}, {'digraph': 'se', 'interval': 163.52}, {'digraph': 'ed', 'interval': 214.98}, {'digraph': 'do', 'interval': 144.7}, {'digraph': 'ei', 'interval': 711.99}, {'digraph': 'iu', 'interval': 239.4}, {'digraph': 'us', 'interval': 181.93}, {'digraph': 'sm', 'interval': 274.04}, {'digraph': 'mo', 'interval': 138.83}, {'digraph': 'od', 'interval': 231.83}, {'digraph': 'te', 'interval': 159.92}, {'digraph': 'em', 'interval': 117.98}, {'digraph': 'mp', 'interval': 191.97}, {'digraph': 'po', 'interval': 162.16}, {'digraph': 'or', 'interval': 103.83}, {'digraph': 'rt', 'interval': 216.28}, {'digraph': 'in', 'interval': 213.11}, {'digraph': 'nc', 'interval': 368.2}, {'digraph': 'ci', 'interval': 785.39}, {'digraph': 'id', 'interval': 311.08}, {'digraph': 'du', 'interval': 1226.86}, {'digraph': 'un', 'interval': 291.4}, {'digraph': 'nt', 'interval': 521.72}, {'digraph': 'tt', 'interval': 653.05}, {'digraph': 'ut', 'interval': 186.08}, {'digraph': 'al', 'interval': 148.0}, {'digraph': 'lb', 'interval': 262.03}, {'digraph': 'bo', 'interval': 141.93}, {'digraph': 'or', 'interval': 207.07}, {'digraph': 're', 'interval': 627.4}, {'digraph': 'et', 'interval': 191.23}, {'digraph': 'do', 'interval': 119.49}, {'digraph': 'ol', 'interval': 189.27}, {'digraph': 'lo', 'interval': 188.92}, {'digraph': 'or', 'interval': 103.66}, {'digraph': 're', 'interval': 132.44}, {'digraph': 'ma', 'interval': 128.19}, {'digraph': 'ag', 'interval': 323.17}, {'digraph': 'gn', 'interval': 243.77}, {'digraph': 'na', 'interval': 181.25}, {'digraph': 'al', 'interval': 147.78}, {'digraph': 'li', 'interval': 264.3}, {'digraph': 'iq', 'interval': 128.78}, {'digraph': 'qu', 'interval': 196.29}, {'digraph': 'ua', 'interval': 180.57}]
digraf_operatora_a = [{'digraph': 'lo', 'interval': 218.8}, {'digraph': 'or', 'interval': 156.22}, {'digraph': 're', 'interval': 187.66}, {'digraph': 'em', 'interval': 583.02}, {'digraph': 'ip', 'interval': 1099.04}, {'digraph': 'ps', 'interval': 410.77}, {'digraph': 'su', 'interval': 169.91}, {'digraph': 'um', 'interval': 319.39}, {'digraph': 'do', 'interval': 196.91}, {'digraph': 'ol', 'interval': 189.04}, {'digraph': 'lo', 'interval': 214.9}, {'digraph': 'or', 'interval': 492.55}, {'digraph': 'si', 'interval': 197.01}, {'digraph': 'it', 'interval': 210.42}, {'digraph': 'se', 'interval': 1661.04}, {'digraph': 'et', 'interval': 1481.36}, {'digraph': 'co', 'interval': 298.85}, {'digraph': 'ok', 'interval': 1529.48}, {'digraph': 'kd', 'interval': 1628.98}, {'digraph': 'de', 'interval': 6028.2}, {'digraph': 'ec', 'interval': 268.12}, {'digraph': 'ct', 'interval': 1326.94}, {'digraph': 'tr', 'interval': 470.7}, {'digraph': 'rt', 'interval': 449.46}, {'digraph': 'tu', 'interval': 320.84}, {'digraph': 'ur', 'interval': 520.84}, {'digraph': 'ad', 'interval': 890.04}, {'digraph': 'di', 'interval': 222.31}, {'digraph': 'ip', 'interval': 732.56}, {'digraph': 'pi', 'interval': 1013.47}, {'digraph': 'is', 'interval': 259.06}, {'digraph': 'sc', 'interval': 449.08}, {'digraph': 'ci', 'interval': 246.88}, {'digraph': 'in', 'interval': 367.73}, {'digraph': 'ng', 'interval': 135.13}, {'digraph': 'el', 'interval': 170.83}, {'digraph': 'li', 'interval': 265.42}, {'digraph': 'it', 'interval': 184.9}, {'digraph': 'se', 'interval': 240.66}, {'digraph': 'ed', 'interval': 215.33}, {'digraph': 'do', 'interval': 248.2}, {'digraph': 'ei', 'interval': 1409.23}, {'digraph': 'iu', 'interval': 1582.09}, {'digraph': 'us', 'interval': 904.91}, {'digraph': 'sm', 'interval': 171.04}, {'digraph': 'mo', 'interval': 242.18}, {'digraph': 'od', 'interval': 155.13}, {'digraph': 'te', 'interval': 237.1}, {'digraph': 'em', 'interval': 169.74}, {'digraph': 'mp', 'interval': 269.27}, {'digraph': 'po', 'interval': 238.64}, {'digraph': 'or', 'interval': 286.39}, {'digraph': 'in', 'interval': 883.7}, {'digraph': 'nc', 'interval': 1010.97}, {'digraph': 'ci', 'interval': 479.24}, {'digraph': 'id', 'interval': 465.69}, {'digraph': 'di', 'interval': 248.36}, {'digraph': 'id', 'interval': 802.01}, {'digraph': 'du', 'interval': 167.86}, {'digraph': 'un', 'interval': 240.77}, {'digraph': 'nt', 'interval': 212.49}, {'digraph': 'un', 'interval': 266.44}, {'digraph': 'nt', 'interval': 160.73}, {'digraph': 'la', 'interval': 307.31}, {'digraph': 'ab', 'interval': 169.92}, {'digraph': 'bo', 'interval': 269.75}, {'digraph': 'or', 'interval': 441.49}, {'digraph': 're', 'interval': 212.44}, {'digraph': 'et', 'interval': 398.37}, {'digraph': 'do', 'interval': 145.83}, {'digraph': 'ol', 'interval': 213.99}, {'digraph': 'lo', 'interval': 215.19}, {'digraph': 'or', 'interval': 233.77}, {'digraph': 're', 'interval': 394.06}, {'digraph': 'ma', 'interval': 307.96}, {'digraph': 'ag', 'interval': 194.88}, {'digraph': 'gn', 'interval': 295.59}, {'digraph': 'na', 'interval': 128.74}, {'digraph': 'al', 'interval': 175.01}, {'digraph': 'li', 'interval': 263.94}, {'digraph': 'iu', 'interval': 1762.1}, {'digraph': 'ua', 'interval': 595.31}]
digraf_operatora_x1= [{'digraph': 'lo', 'interval': 263.42}, {'digraph': 'or', 'interval': 792.03}, {'digraph': 're', 'interval': 136.26}, {'digraph': 'em', 'interval': 203.97}, {'digraph': 'is', 'interval': 308.26}, {'digraph': 'sp', 'interval': 5605.52}, {'digraph': 'ps', 'interval': 439.34}, {'digraph': 'su', 'interval': 181.15}, {'digraph': 'um', 'interval': 258.13}, {'digraph': 'do', 'interval': 168.95}, {'digraph': 'ol', 'interval': 252.43}, {'digraph': 'lo', 'interval': 195.21}, {'digraph': 'or', 'interval': 1199.46}, {'digraph': 'si', 'interval': 153.97}, {'digraph': 'it', 'interval': 602.35}, {'digraph': 'am', 'interval': 498.16}, {'digraph': 'me', 'interval': 172.18}, {'digraph': 'et', 'interval': 244.15}, {'digraph': 'co', 'interval': 179.3}, {'digraph': 'on', 'interval': 326.26}, {'digraph': 'ns', 'interval': 1232.67}, {'digraph': 'se', 'interval': 484.18}, {'digraph': 'ec', 'interval': 1137.68}, {'digraph': 'ct', 'interval': 3001.46}, {'digraph': 'te', 'interval': 394.14}, {'digraph': 'et', 'interval': 321.13}, {'digraph': 'tu', 'interval': 589.38}, {'digraph': 'ur', 'interval': 316.91}, {'digraph': 'ad', 'interval': 484.21}, {'digraph': 'di', 'interval': 1666.76}, {'digraph': 'ip', 'interval': 1544.98}, {'digraph': 'pi', 'interval': 226.14}, {'digraph': 'is', 'interval': 1612.64}, {'digraph': 'sc', 'interval': 869.86}, {'digraph': 'ci', 'interval': 203.7}, {'digraph': 'in', 'interval': 272.23}, {'digraph': 'ng', 'interval': 330.09}, {'digraph': 'el', 'interval': 236.34}, {'digraph': 'li', 'interval': 208.19}, {'digraph': 'it', 'interval': 267.13}, {'digraph': 'te', 'interval': 199.04}, {'digraph': 'se', 'interval': 212.35}, {'digraph': 'ed', 'interval': 304.04}, {'digraph': 'do', 'interval': 746.89}, {'digraph': 'ei', 'interval': 529.82}, {'digraph': 'iu', 'interval': 5274.97}, {'digraph': 'us', 'interval': 2585.5}, {'digraph': 'sm', 'interval': 281.09}, {'digraph': 'mo', 'interval': 172.03}, {'digraph': 'od', 'interval': 556.22}, {'digraph': 'te', 'interval': 257.1}, {'digraph': 'em', 'interval': 1436.14}, {'digraph': 'mp', 'interval': 651.89}, {'digraph': 'po', 'interval': 145.06}, {'digraph': 'or', 'interval': 371.14}, {'digraph': 'il', 'interval': 1272.27}, {'digraph': 'lo', 'interval': 1208.71}, {'digraph': 'or', 'interval': 299.08}, {'digraph': 're', 'interval': 136.25}, {'digraph': 'em', 'interval': 216.97}, {'digraph': 'ip', 'interval': 701.29}, {'digraph': 'ps', 'interval': 344.64}, {'digraph': 'su', 'interval': 194.6}, {'digraph': 'um', 'interval': 280.11}, {'digraph': 'do', 'interval': 172.03}, {'digraph': 'ol', 'interval': 335.65}, {'digraph': 'lo', 'interval': 225.72}, {'digraph': 'or', 'interval': 1132.7}, {'digraph': 'si', 'interval': 335.19}, {'digraph': 'it', 'interval': 625.21}, {'digraph': 'am', 'interval': 417.33}, {'digraph': 'me', 'interval': 153.03}, {'digraph': 'et', 'interval': 358.07}, {'digraph': 'co', 'interval': 230.3}, {'digraph': 'on', 'interval': 240.05}, {'digraph': 'ns', 'interval': 213.05}, {'digraph': 'se', 'interval': 489.3}, {'digraph': 'ec', 'interval': 208.08}, {'digraph': 'ct', 'interval': 376.04}, {'digraph': 'tu', 'interval': 231.51}, {'digraph': 'ur', 'interval': 198.85}, {'digraph': 're', 'interval': 122.72}, {'digraph': 'ee', 'interval': 14640.75}, {'digraph': 'et', 'interval': 243.99}, {'digraph': 'tu', 'interval': 430.66}, {'digraph': 'ur', 'interval': 225.78}, {'digraph': 'ad', 'interval': 329.96}, {'digraph': 'di', 'interval': 281.15}, {'digraph': 'ip', 'interval': 2712.48}, {'digraph': 'pi', 'interval': 240.18}, {'digraph': 'is', 'interval': 344.0}, {'digraph': 'sc', 'interval': 2074.1}, {'digraph': 'ci', 'interval': 135.88}]
digraf_operatora_x2= [{'digraph': 'lo', 'interval': 186.13}, {'digraph': 'or', 'interval': 4016.09}, {'digraph': 're', 'interval': 398.35}, {'digraph': 'em', 'interval': 235.15}, {'digraph': 'ip', 'interval': 207.99}, {'digraph': 'ps', 'interval': 213.11}, {'digraph': 'su', 'interval': 375.17}, {'digraph': 'um', 'interval': 340.17}, {'digraph': 'do', 'interval': 230.89}, {'digraph': 'ol', 'interval': 212.24}, {'digraph': 'lo', 'interval': 186.12}, {'digraph': 'or', 'interval': 306.98}, {'digraph': 'si', 'interval': 132.06}, {'digraph': 'it', 'interval': 247.99}, {'digraph': 'ta', 'interval': 203.79}, {'digraph': 'am', 'interval': 132.12}, {'digraph': 'me', 'interval': 154.14}, {'digraph': 'et', 'interval': 221.14}, {'digraph': 'co', 'interval': 353.28}, {'digraph': 'on', 'interval': 253.04}, {'digraph': 'ns', 'interval': 208.18}, {'digraph': 'se', 'interval': 235.99}, {'digraph': 'ec', 'interval': 221.88}, {'digraph': 'ct', 'interval': 3482.08}, {'digraph': 'te', 'interval': 1109.6}, {'digraph': 'et', 'interval': 1440.79}, {'digraph': 'tu', 'interval': 415.94}, {'digraph': 'ur', 'interval': 276.17}, {'digraph': 'ad', 'interval': 417.0}, {'digraph': 'di', 'interval': 285.46}, {'digraph': 'ip', 'interval': 2105.89}, {'digraph': 'pi', 'interval': 643.35}, {'digraph': 'is', 'interval': 176.18}, {'digraph': 'sc', 'interval': 204.09}, {'digraph': 'ci', 'interval': 244.38}, {'digraph': 'in', 'interval': 230.86}, {'digraph': 'ng', 'interval': 326.09}, {'digraph': 'el', 'interval': 227.5}, {'digraph': 'li', 'interval': 191.09}, {'digraph': 'it', 'interval': 294.35}, {'digraph': 'se', 'interval': 199.2}, {'digraph': 'ed', 'interval': 185.98}, {'digraph': 'do', 'interval': 153.19}, {'digraph': 'ei', 'interval': 679.06}, {'digraph': 'iu', 'interval': 243.77}, {'digraph': 'us', 'interval': 236.2}, {'digraph': 'sm', 'interval': 235.17}, {'digraph': 'mo', 'interval': 135.96}, {'digraph': 'od', 'interval': 1018.57}, {'digraph': 'te', 'interval': 167.15}, {'digraph': 'em', 'interval': 345.28}, {'digraph': 'mp', 'interval': 204.15}, {'digraph': 'po', 'interval': 184.92}, {'digraph': 'or', 'interval': 339.14}, {'digraph': 'il', 'interval': 1829.76}, {'digraph': 'lo', 'interval': 208.02}, {'digraph': 'oe', 'interval': 670.39}, {'digraph': 'er', 'interval': 721.02}, {'digraph': 're', 'interval': 193.47}, {'digraph': 'em', 'interval': 190.16}, {'digraph': 'ip', 'interval': 1203.66}, {'digraph': 'ps', 'interval': 149.33}, {'digraph': 'su', 'interval': 335.0}, {'digraph': 'um', 'interval': 222.06}, {'digraph': 'do', 'interval': 224.88}, {'digraph': 'ol', 'interval': 207.74}, {'digraph': 'lo', 'interval': 181.42}, {'digraph': 'or', 'interval': 222.28}, {'digraph': 'si', 'interval': 457.23}, {'digraph': 'it', 'interval': 439.3}, {'digraph': 'am', 'interval': 131.0}, {'digraph': 'me', 'interval': 150.07}, {'digraph': 'et', 'interval': 185.05}, {'digraph': 'co', 'interval': 216.99}, {'digraph': 'on', 'interval': 249.17}, {'digraph': 'ns', 'interval': 354.24}, {'digraph': 'se', 'interval': 565.26}, {'digraph': 'ec', 'interval': 218.15}, {'digraph': 'ct', 'interval': 326.19}, {'digraph': 'te', 'interval': 3547.62}, {'digraph': 'et', 'interval': 208.21}, {'digraph': 'tu', 'interval': 249.06}, {'digraph': 'ur', 'interval': 412.14}, {'digraph': 'ad', 'interval': 222.36}, {'digraph': 'di', 'interval': 280.82}, {'digraph': 'ip', 'interval': 222.14}, {'digraph': 'pi', 'interval': 226.83}, {'digraph': 'is', 'interval': 133.3}, {'digraph': 'sc', 'interval': 369.2}, {'digraph': 'ci', 'interval': 793.95}, {'digraph': 'in', 'interval': 202.69}, {'digraph': 'ng', 'interval': 286.06}]

# Konwersja do DataFrame
df_e = pd.DataFrame(digraf_operatora_x1).groupby("digraph").mean().rename(columns={"interval": "interval_e"})
df_m = pd.DataFrame(digraf_operatora_x2).groupby("digraph").mean().rename(columns={"interval": "interval_m"})
# df_m2= pd.DataFrame(digraf_operatora_m2).groupby("digraph").mean().rename(columns={"interval": "interval_m2"})

# Połączenie danych po digrafach
df_merged = df_e.join(df_m, how='inner')

# Obliczenie korelacji
correlation, p_value = pearsonr(df_merged["interval_e"], df_merged["interval_m"])

print(correlation)

smess = ""
if -0.1 <= correlation < 0.1:
    smess += 'Jest nieprawdopodobne aby te same osoby wprowadzały tekst.'
elif 0.1 <= correlation < 0.4:
    smess +=  'Jest mało prawdopodobne aby te same osoby wprowadzały tekst.'
elif 0.4 <= correlation < 0.7:
    smess += 'Istnieje pewne prawdopodobieństwo, że te same osoby wprowadzały tekst.'
elif 0.7 <= correlation < 0.9:
    smess += 'Prawdopodobnie, że te same osoby wprowadzały tekst.'
elif 0.9 <= correlation < 1:
    smess += 'Bardzo prawdopodobnie, że te same osoby wprowadzały tekst.'
elif correlation == 1:
    smess += 'To te same osoby wprowadzały ten tekst.'
else:
    smess += "Sprawdź co tu się stało."

print(p_value)

if p_value < 0.05:
    smess += '\nKorelacja istotna, jest mało prawdopodobne aby to był przypadek.'
else:
    smess += '\nKorelacja może być przypadkowa, poszerzenie zakresu badania jest wskazane.'

print(smess)
# Wizualizacja
plt.figure(figsize=(10, 6))
sns.scatterplot(data=df_merged, x="interval_e", y="interval_m")
plt.title(f'Porównanie czasów digrafów (korelacja = {correlation:.2f}, wartość p testu istotności = {p_value:.2f})\n'+smess)
plt.xlabel('Operator A - Średni czas digrafu (ms)')
plt.ylabel('Operator B - Średni czas digrafu (ms)')
plt.grid(True)
plt.tight_layout()

# df_merged_sorted = df_merged.sort_values(by="interval_e")

plt.savefig("test-di.svg", format='svg')



# plt.show()



# correlation, p_value, df_merged_sorted.head(10)

#

'''
1. correlation (współczynnik korelacji Pearsona)
To wartość od -1 do 1, która mówi o sile i kierunku liniowej zależności między dwiema zmiennymi:

Wartość	Interpretacja
+1	idealna dodatnia korelacja liniowa
0	brak korelacji liniowej
-1	idealna ujemna korelacja liniowa
0.7 do 0.9	silna dodatnia korelacja
0.4 do 0.7	umiarkowana dodatnia korelacja
0.1 do 0.4	słaba dodatnia korelacja
blisko 0	bardzo słaba lub brak korelacji liniowej

2. p_value (wartość p dla testu istotności korelacji)
To wartość statystyczna, która mówi, czy zaobserwowana korelacja jest istotna statystycznie, czyli:

Mała wartość p (np. < 0.05) → korelacja jest istotna (mało prawdopodobne, że to przypadek).

Duża wartość p (np. > 0.05) → korelacja może być przypadkowa.

'''


from dtaidistance import dtw
import numpy as np

# Przykładowe dane (digraf, interval, press_time_1, press_time_2)
digraphs_a = [
    {"digraph": "lo", "interval": 200, "press_time_1": 1000, "press_time_2": 1200},
    {"digraph": "or", "interval": 180, "press_time_1": 1300, "press_time_2": 1480},
    {"digraph": "re", "interval": 210, "press_time_1": 1600, "press_time_2": 1810}
]

digraphs_b = [
    {"digraph": "lo", "interval": 195, "press_time_1": 1100, "press_time_2": 1295},
    {"digraph": "or", "interval": 170, "press_time_1": 1400, "press_time_2": 1570},
    {"digraph": "re", "interval": 220, "press_time_1": 1700, "press_time_2": 1920}
]

digraphs_a = [{'digraph': 'lo', 'interval': 176.42, 'press_time_1': 87.0, 'press_time_2': 73.51}, {'digraph': 'or', 'interval': 718.52, 'press_time_1': 73.51, 'press_time_2': 132.26}, {'digraph': 're', 'interval': 4.0, 'press_time_1': 132.26, 'press_time_2': 87.68}, {'digraph': 'em', 'interval': 116.29, 'press_time_1': 87.68, 'press_time_2': 86.26}, {'digraph': 'is', 'interval': 225.05, 'press_time_1': 83.21, 'press_time_2': 73.84}, {'digraph': 'sp', 'interval': 5531.68, 'press_time_1': 73.84, 'press_time_2': 74.83}, {'digraph': 'ps', 'interval': 364.51, 'press_time_1': 74.83, 'press_time_2': 74.84}, {'digraph': 'su', 'interval': 106.31, 'press_time_1': 74.84, 'press_time_2': 78.55}, {'digraph': 'um', 'interval': 179.58, 'press_time_1': 78.55, 'press_time_2': 69.38}, {'digraph': 'do', 'interval': 40.34, 'press_time_1': 128.61, 'press_time_2': 104.15}, {'digraph': 'ol', 'interval': 148.28, 'press_time_1': 104.15, 'press_time_2': 68.95}, {'digraph': 'lo', 'interval': 126.26, 'press_time_1': 68.95, 'press_time_2': 73.36}, {'digraph': 'or', 'interval': 1126.1, 'press_time_1': 73.36, 'press_time_2': 87.29}, {'digraph': 'si', 'interval': 52.8, 'press_time_1': 101.17, 'press_time_2': 78.93}, {'digraph': 'it', 'interval': 523.42, 'press_time_1': 78.93, 'press_time_2': 105.46}, {'digraph': 'am', 'interval': 383.59, 'press_time_1': 114.57, 'press_time_2': 68.04}, {'digraph': 'me', 'interval': 104.14, 'press_time_1': 68.04, 'press_time_2': 100.9}, {'digraph': 'et', 'interval': 143.25, 'press_time_1': 100.9, 'press_time_2': 119.2}, {'digraph': 'co', 'interval': 74.73, 'press_time_1': 104.57, 'press_time_2': 84.83}, {'digraph': 'on', 'interval': 241.43, 'press_time_1': 84.83, 'press_time_2': 87.37}, {'digraph': 'ns', 'interval': 1145.3, 'press_time_1': 87.37, 'press_time_2': 124.25}, {'digraph': 'se', 'interval': 359.93, 'press_time_1': 124.25, 'press_time_2': 96.41}, {'digraph': 'ec', 'interval': 1041.27, 'press_time_1': 96.41, 'press_time_2': 114.59}, {'digraph': 'ct', 'interval': 2886.87, 'press_time_1': 114.59, 'press_time_2': 110.0}, {'digraph': 'te', 'interval': 284.14, 'press_time_1': 110.0, 'press_time_2': 110.62}, {'digraph': 'et', 'interval': 210.51, 'press_time_1': 110.62, 'press_time_2': 102.17}, {'digraph': 'tu', 'interval': 487.21, 'press_time_1': 102.17, 'press_time_2': 82.31}, {'digraph': 'ur', 'interval': 234.6, 'press_time_1': 82.31, 'press_time_2': 100.82}, {'digraph': 'ad', 'interval': 295.56, 'press_time_1': 188.65, 'press_time_2': 129.1}, {'digraph': 'di', 'interval': 1537.66, 'press_time_1': 129.1, 'press_time_2': 110.6}, {'digraph': 'ip', 'interval': 1434.38, 'press_time_1': 110.6, 'press_time_2': 87.24}, {'digraph': 'pi', 'interval': 138.9, 'press_time_1': 87.24, 'press_time_2': 74.51}, {'digraph': 'is', 'interval': 1538.13, 'press_time_1': 74.51, 'press_time_2': 118.48}, {'digraph': 'sc', 'interval': 751.38, 'press_time_1': 118.48, 'press_time_2': 90.66}, {'digraph': 'ci', 'interval': 113.04, 'press_time_1': 90.66, 'press_time_2': 105.71}, {'digraph': 'in', 'interval': 166.52, 'press_time_1': 105.71, 'press_time_2': 104.37}, {'digraph': 'ng', 'interval': 225.72, 'press_time_1': 104.37, 'press_time_2': 64.61}, {'digraph': 'el', 'interval': 93.28, 'press_time_1': 143.06, 'press_time_2': 92.6}, {'digraph': 'li', 'interval': 115.59, 'press_time_1': 92.6, 'press_time_2': 73.37}, {'digraph': 'it', 'interval': 193.76, 'press_time_1': 73.37, 'press_time_2': 74.48}, {'digraph': 'te', 'interval': 124.56, 'press_time_1': 74.48, 'press_time_2': 110.12}, {'digraph': 'se', 'interval': 102.88, 'press_time_1': 109.47, 'press_time_2': 88.05}, {'digraph': 'ed', 'interval': 215.99, 'press_time_1': 88.05, 'press_time_2': 100.18}, {'digraph': 'do', 'interval': 632.59, 'press_time_1': 114.3, 'press_time_2': 86.58}, {'digraph': 'ei', 'interval': 406.63, 'press_time_1': 123.19, 'press_time_2': 104.54}, {'digraph': 'iu', 'interval': 5170.43, 'press_time_1': 104.54, 'press_time_2': 110.32}, {'digraph': 'us', 'interval': 2475.18, 'press_time_1': 110.32, 'press_time_2': 110.05}, {'digraph': 'sm', 'interval': 171.04, 'press_time_1': 110.05, 'press_time_2': 82.46}, {'digraph': 'mo', 'interval': 89.57, 'press_time_1': 82.46, 'press_time_2': 78.82}, {'digraph': 'od', 'interval': 477.4, 'press_time_1': 78.82, 'press_time_2': 111.34}, {'digraph': 'te', 'interval': 188.52, 'press_time_1': 68.58, 'press_time_2': 60.3}, {'digraph': 'em', 'interval': 1375.84, 'press_time_1': 60.3, 'press_time_2': 87.99}, {'digraph': 'mp', 'interval': 563.9, 'press_time_1': 87.99, 'press_time_2': 87.24}, {'digraph': 'po', 'interval': 57.82, 'press_time_1': 87.24, 'press_time_2': 82.13}, {'digraph': 'or', 'interval': 289.01, 'press_time_1': 82.13, 'press_time_2': 105.3}, {'digraph': 'il', 'interval': 1154.04, 'press_time_1': 118.23, 'press_time_2': 123.29}, {'digraph': 'lo', 'interval': 1085.42, 'press_time_1': 123.29, 'press_time_2': 78.44}, {'digraph': 'or', 'interval': 220.64, 'press_time_1': 78.44, 'press_time_2': 110.66}, {'digraph': 're', 'interval': 25.59, 'press_time_1': 110.66, 'press_time_2': 113.94}, {'digraph': 'em', 'interval': 103.03, 'press_time_1': 113.94, 'press_time_2': 74.28}, {'digraph': 'ip', 'interval': 628.07, 'press_time_1': 73.22, 'press_time_2': 92.94}, {'digraph': 'ps', 'interval': 251.7, 'press_time_1': 92.94, 'press_time_2': 123.19}, {'digraph': 'su', 'interval': 71.41, 'press_time_1': 123.19, 'press_time_2': 69.6}, {'digraph': 'um', 'interval': 210.51, 'press_time_1': 69.6, 'press_time_2': 65.34}, {'digraph': 'do', 'interval': 93.76, 'press_time_1': 78.27, 'press_time_2': 73.13}, {'digraph': 'ol', 'interval': 262.52, 'press_time_1': 73.13, 'press_time_2': 86.75}, {'digraph': 'lo', 'interval': 138.97, 'press_time_1': 86.75, 'press_time_2': 65.15}, {'digraph': 'or', 'interval': 1067.55, 'press_time_1': 65.15, 'press_time_2': 81.95}, {'digraph': 'si', 'interval': 247.08, 'press_time_1': 88.11, 'press_time_2': 83.15}, {'digraph': 'it', 'interval': 542.06, 'press_time_1': 83.15, 'press_time_2': 104.31}, {'digraph': 'am', 'interval': 330.27, 'press_time_1': 87.06, 'press_time_2': 64.5}, {'digraph': 'me', 'interval': 88.53, 'press_time_1': 64.5, 'press_time_2': 110.06}, {'digraph': 'et', 'interval': 248.01, 'press_time_1': 110.06, 'press_time_2': 55.3}, {'digraph': 'co', 'interval': 123.18, 'press_time_1': 107.12, 'press_time_2': 101.25}, {'digraph': 'on', 'interval': 138.8, 'press_time_1': 101.25, 'press_time_2': 69.27}, {'digraph': 'ns', 'interval': 143.78, 'press_time_1': 69.27, 'press_time_2': 128.14}, {'digraph': 'se', 'interval': 361.16, 'press_time_1': 128.14, 'press_time_2': 51.25}, {'digraph': 'ec', 'interval': 156.83, 'press_time_1': 51.25, 'press_time_2': 87.55}, {'digraph': 'ct', 'interval': 288.49, 'press_time_1': 87.55, 'press_time_2': 73.32}, {'digraph': 'tu', 'interval': 158.19, 'press_time_1': 73.32, 'press_time_2': 73.19}, {'digraph': 'ur', 'interval': 125.66, 'press_time_1': 73.19, 'press_time_2': 146.83}, {'digraph': 're', 'interval': -24.11, 'press_time_1': 146.83, 'press_time_2': 104.96}, {'digraph': 'ee', 'interval': 14535.79, 'press_time_1': 104.96, 'press_time_2': 127.82}, {'digraph': 'et', 'interval': 116.17, 'press_time_1': 127.82, 'press_time_2': 69.94}, {'digraph': 'tu', 'interval': 360.72, 'press_time_1': 69.94, 'press_time_2': 81.95}, {'digraph': 'ur', 'interval': 143.83, 'press_time_1': 81.95, 'press_time_2': 105.19}, {'digraph': 'ad', 'interval': 259.32, 'press_time_1': 70.64, 'press_time_2': 133.06}, {'digraph': 'di', 'interval': 148.09, 'press_time_1': 133.06, 'press_time_2': 114.14}, {'digraph': 'ip', 'interval': 2598.34, 'press_time_1': 114.14, 'press_time_2': 96.33}, {'digraph': 'pi', 'interval': 143.85, 'press_time_1': 96.33, 'press_time_2': 81.89}, {'digraph': 'is', 'interval': 262.11, 'press_time_1': 81.89, 'press_time_2': 150.55}, {'digraph': 'sc', 'interval': 1923.55, 'press_time_1': 150.55, 'press_time_2': 78.3}, {'digraph': 'ci', 'interval': 57.58, 'press_time_1': 78.3, 'press_time_2': 101.11}]
digraphs_b = [{'digraph': 'lo', 'interval': 4305.5, 'press_time_1': 97.23, 'press_time_2': 129.52}, {'digraph': 'or', 'interval': 406.6, 'press_time_1': 129.52, 'press_time_2': 104.75}, {'digraph': 're', 'interval': 23.32, 'press_time_1': 104.75, 'press_time_2': 105.37}, {'digraph': 'em', 'interval': 278.7, 'press_time_1': 105.37, 'press_time_2': 81.4}, {'digraph': 'ip', 'interval': 1676.46, 'press_time_1': 107.37, 'press_time_2': 81.88}, {'digraph': 'ps', 'interval': 822.64, 'press_time_1': 81.88, 'press_time_2': 89.85}, {'digraph': 'su', 'interval': 374.71, 'press_time_1': 89.85, 'press_time_2': 98.44}, {'digraph': 'um', 'interval': 253.44, 'press_time_1': 98.44, 'press_time_2': 97.96}, {'digraph': 'do', 'interval': 142.24, 'press_time_1': 106.07, 'press_time_2': 105.27}, {'digraph': 'ol', 'interval': 78.66, 'press_time_1': 105.27, 'press_time_2': 107.11}, {'digraph': 'lo', 'interval': 76.88, 'press_time_1': 107.11, 'press_time_2': 89.27}, {'digraph': 'or', 'interval': 350.92, 'press_time_1': 89.27, 'press_time_2': 82.01}, {'digraph': 'si', 'interval': 197.89, 'press_time_1': 98.22, 'press_time_2': 98.86}, {'digraph': 'it', 'interval': 381.31, 'press_time_1': 98.86, 'press_time_2': 89.15}, {'digraph': 'am', 'interval': 222.97, 'press_time_1': 104.79, 'press_time_2': 90.23}, {'digraph': 'me', 'interval': 269.78, 'press_time_1': 90.23, 'press_time_2': 73.5}, {'digraph': 'et', 'interval': 198.72, 'press_time_1': 73.5, 'press_time_2': 81.22}, {'digraph': 'co', 'interval': 384.01, 'press_time_1': 89.0, 'press_time_2': 72.05}, {'digraph': 'on', 'interval': 271.3, 'press_time_1': 72.05, 'press_time_2': 80.92}, {'digraph': 'ns', 'interval': 599.19, 'press_time_1': 80.92, 'press_time_2': 97.28}, {'digraph': 'se', 'interval': 390.94, 'press_time_1': 97.28, 'press_time_2': 65.29}, {'digraph': 'et', 'interval': 230.87, 'press_time_1': 65.29, 'press_time_2': 72.52}, {'digraph': 'te', 'interval': 4817.97, 'press_time_1': 72.52, 'press_time_2': 90.89}, {'digraph': 'et', 'interval': 238.42, 'press_time_1': 90.89, 'press_time_2': 79.94}, {'digraph': 'tu', 'interval': 312.29, 'press_time_1': 79.94, 'press_time_2': 88.07}, {'digraph': 'ur', 'interval': 223.62, 'press_time_1': 88.07, 'press_time_2': 73.16}, {'digraph': 'ad', 'interval': 197.72, 'press_time_1': 90.44, 'press_time_2': 75.08}, {'digraph': 'di', 'interval': 381.01, 'press_time_1': 75.08, 'press_time_2': 105.92}, {'digraph': 'ip', 'interval': 486.54, 'press_time_1': 105.92, 'press_time_2': 97.38}, {'digraph': 'pi', 'interval': 246.5, 'press_time_1': 97.38, 'press_time_2': 89.94}, {'digraph': 'is', 'interval': 574.4, 'press_time_1': 89.94, 'press_time_2': 105.37}, {'digraph': 'sc', 'interval': 927.15, 'press_time_1': 105.37, 'press_time_2': 89.93}, {'digraph': 'ci', 'interval': 454.45, 'press_time_1': 89.93, 'press_time_2': 114.07}, {'digraph': 'in', 'interval': 2103.04, 'press_time_1': 114.07, 'press_time_2': 81.43}, {'digraph': 'ng', 'interval': 630.93, 'press_time_1': 81.43, 'press_time_2': 81.24}, {'digraph': 'el', 'interval': 237.77, 'press_time_1': 58.32, 'press_time_2': 66.05}, {'digraph': 'li', 'interval': 182.04, 'press_time_1': 66.05, 'press_time_2': 81.25}, {'digraph': 'it', 'interval': 519.08, 'press_time_1': 81.25, 'press_time_2': 105.55}, {'digraph': 'se', 'interval': 727.27, 'press_time_1': 89.13, 'press_time_2': 80.94}, {'digraph': 'en', 'interval': 231.28, 'press_time_1': 80.94, 'press_time_2': 57.51}, {'digraph': 'nd', 'interval': 567.1, 'press_time_1': 57.51, 'press_time_2': 96.7}, {'digraph': 'do', 'interval': 183.06, 'press_time_1': 81.2, 'press_time_2': 74.59}, {'digraph': 'ei', 'interval': 390.13, 'press_time_1': 82.08, 'press_time_2': 73.73}, {'digraph': 'iu', 'interval': 2223.92, 'press_time_1': 73.73, 'press_time_2': 74.36}, {'digraph': 'us', 'interval': 829.94, 'press_time_1': 74.36, 'press_time_2': 88.66}, {'digraph': 'sm', 'interval': 311.24, 'press_time_1': 88.66, 'press_time_2': 89.11}, {'digraph': 'mo', 'interval': 351.11, 'press_time_1': 89.11, 'press_time_2': 89.69}, {'digraph': 'od', 'interval': 374.49, 'press_time_1': 89.69, 'press_time_2': 74.07}, {'digraph': 'te', 'interval': 342.98, 'press_time_1': 65.08, 'press_time_2': 49.8}, {'digraph': 'em', 'interval': 550.57, 'press_time_1': 49.8, 'press_time_2': 82.17}, {'digraph': 'mp', 'interval': 286.04, 'press_time_1': 82.17, 'press_time_2': 97.83}, {'digraph': 'po', 'interval': 54.21, 'press_time_1': 97.83, 'press_time_2': 65.59}, {'digraph': 'or', 'interval': 342.52, 'press_time_1': 65.59, 'press_time_2': 65.47}, {'digraph': 'il', 'interval': 150.46, 'press_time_1': 65.73, 'press_time_2': 65.75}, {'digraph': 'lo', 'interval': 102.35, 'press_time_1': 65.75, 'press_time_2': 73.07}, {'digraph': 'or', 'interval': 230.97, 'press_time_1': 73.07, 'press_time_2': 56.96}, {'digraph': 're', 'interval': 207.32, 'press_time_1': 56.96, 'press_time_2': 73.34}, {'digraph': 'em', 'interval': 254.56, 'press_time_1': 73.34, 'press_time_2': 57.49}, {'digraph': 'ip', 'interval': 1176.21, 'press_time_1': 105.12, 'press_time_2': 88.97}, {'digraph': 'ps', 'interval': 510.5, 'press_time_1': 88.97, 'press_time_2': 65.32}, {'digraph': 'su', 'interval': 470.96, 'press_time_1': 65.32, 'press_time_2': 90.57}, {'digraph': 'um', 'interval': 189.72, 'press_time_1': 90.57, 'press_time_2': 97.52}, {'digraph': 'do', 'interval': 212.93, 'press_time_1': 59.4, 'press_time_2': 80.98}, {'digraph': 'ol', 'interval': 70.9, 'press_time_1': 80.98, 'press_time_2': 82.37}, {'digraph': 'lo', 'interval': 69.7, 'press_time_1': 82.37, 'press_time_2': 65.26}, {'digraph': 'or', 'interval': 495.15, 'press_time_1': 65.26, 'press_time_2': 65.1}, {'digraph': 'si', 'interval': 1455.54, 'press_time_1': 73.55, 'press_time_2': 81.06}, {'digraph': 'it', 'interval': 495.15, 'press_time_1': 81.06, 'press_time_2': 65.39}, {'digraph': 'am', 'interval': 510.5, 'press_time_1': 81.77, 'press_time_2': 81.23}, {'digraph': 'me', 'interval': 254.93, 'press_time_1': 81.23, 'press_time_2': 80.95}, {'digraph': 'et', 'interval': 407.08, 'press_time_1': 80.95, 'press_time_2': 98.61}, {'digraph': 'co', 'interval': 301.36, 'press_time_1': 18.78, 'press_time_2': 97.94}, {'digraph': 'on', 'interval': 918.65, 'press_time_1': 97.94, 'press_time_2': 73.04}, {'digraph': 'ns', 'interval': 271.27, 'press_time_1': 73.04, 'press_time_2': 81.58}, {'digraph': 'se', 'interval': 230.32, 'press_time_1': 81.58, 'press_time_2': 50.13}, {'digraph': 'ec', 'interval': 3967.8, 'press_time_1': 50.13, 'press_time_2': 74.0}, {'digraph': 'ct', 'interval': 350.5, 'press_time_1': 74.0, 'press_time_2': 66.24}, {'digraph': 'te', 'interval': 525.88, 'press_time_1': 66.24, 'press_time_2': 65.2}, {'digraph': 'et', 'interval': 2624.32, 'press_time_1': 65.2, 'press_time_2': 42.15}, {'digraph': 'to', 'interval': 214.21, 'press_time_1': 42.15, 'press_time_2': 40.65}, {'digraph': 'ou', 'interval': 1575.78, 'press_time_1': 40.65, 'press_time_2': 89.03}, {'digraph': 'ur', 'interval': 376.38, 'press_time_1': 89.03, 'press_time_2': 64.12}, {'digraph': 'ad', 'interval': 2040.59, 'press_time_1': 57.11, 'press_time_2': 97.19}, {'digraph': 'di', 'interval': 302.41, 'press_time_1': 97.19, 'press_time_2': 73.36}, {'digraph': 'ip', 'interval': 150.62, 'press_time_1': 73.36, 'press_time_2': 114.32}, {'digraph': 'pi', 'interval': 11932.13, 'press_time_1': 114.32, 'press_time_2': 25.15}, {'digraph': 'is', 'interval': 174.53, 'press_time_1': 25.15, 'press_time_2': 59.24}, {'digraph': 'sc', 'interval': 485.75, 'press_time_1': 59.24, 'press_time_2': 41.85}, {'digraph': 'ci', 'interval': 293.76, 'press_time_1': 41.85, 'press_time_2': 89.7}, {'digraph': 'in', 'interval': 198.28, 'press_time_1': 89.7, 'press_time_2': 90.56}, {'digraph': 'ng', 'interval': 910.38, 'press_time_1': 90.56, 'press_time_2': 64.67}]


# Funkcja ekstrakcji sekwencji numerycznych z danych digrafów
def extract_features(digraphs):
    # Można użyć jednej lub więcej cech np. [interval, press_time_diff]
    return np.array([
        [d["interval"], d["press_time_2"] - d["press_time_1"]]
        for d in digraphs
    ])

# Dane wejściowe
series_a = extract_features(digraphs_a)
series_b = extract_features(digraphs_b)

# Obliczanie DTW między dwiema sekwencjami
# Uwaga: dtw.distance potrzebuje 1D sekwencji — stosujemy uproszczenie
# Można użyć pełnej wersji DTW dla 2D poniżej
dist = dtw.distance_matrix_fast([series_a[:,0], series_b[:,0]])[0,1]

print(f"DTW dla 'interval': {dist:.2f}")

# Alternatywnie: pełna wersja DTW dla sekwencji wektorów 2D
from scipy.spatial.distance import euclidean
from fastdtw import fastdtw

distance_2d, path = fastdtw(series_a, series_b, dist=euclidean)
print(f"DTW (2D - interval + press delta): {distance_2d:.2f}")
